# Database Configuration
# Local Development (MySQL) / Production (PostgreSQL via env vars)
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/moneymanager}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=${DB_DRIVER:com.mysql.cj.jdbc.Driver}

# Production (PostgreSQL) - Template for Neon
# Copy these to your environment variables in Render:
# DB_URL=jdbc:postgresql://username:password@host:5432/dbname?sslmode=require
# DB_USERNAME=your-neon-username
# DB_PASSWORD=your-neon-password

server.port=${PORT:8080}

server.servlet.context-path=/api/v1.0

#JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect


jwt.secret=${JWT_SECRET:2b8e7c7e-4e2a-4b1a-9c2e-8f7e2d3c4b5a}

# Frontend & CORS Configuration
# Template for Production - Update these in Render environment variables:
# MONEY_MANAGER_FRONTEND_URL=https://your-frontend.netlify.app
# CORS_ALLOWED_ORIGINS=https://your-frontend.netlify.app
money.manager.frontend.url=${MONEY_MANAGER_FRONTEND_URL:http://localhost:5173}
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:${money.manager.frontend.url}}

app.activation.url=${MONEY_MANAGER_BACKEND_URL:http://localhost:8080}

# OAuth2 Configuration (Google)
# Template for Production - Update these in Render environment variables:
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:placeholder}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:placeholder}
spring.security.oauth2.client.registration.google.scope=openid,profile,email

# OAuth Redirect URI Template (Update in Google Console):
# https://your-backend-domain.onrender.com/api/v1.0/login/oauth2/code/google
#spring.profiles.active=prod